(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{133:function(e,t,n){},134:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),s=n(25),a=n.n(s),i=(n(133),n(134),n(156)),o=n(58),j=n(9),l=n(36),d=n(26),b=n(166),u=n(174),h=n(187),O=n(167),x=n(180),p=n(178),f=n(186),m=n(169),g=n(4),v=n(157),S=n(185),C=n(39),y=n(162),T=n(163),w=n(177),z=n(54),k=n(164),I=n(165),F=n(85),_=n.n(F),A=n(112);function E(e,t){var n=Object(r.useState)(null),c=Object(g.a)(n,2),s=c[0],a=c[1],i=Object(r.useState)(null),o=Object(g.a)(i,2),j=o[0],l=o[1],d=Object(r.useState)(!1),b=Object(g.a)(d,2),u=b[0],h=b[1],O=Object(r.useState)(!1),x=Object(g.a)(O,2),p=x[0],f=x[1];return Object(r.useEffect)((function(){f(!1),function(){var n=Object(A.a)(_.a.mark((function n(){var r,c;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s||h(!0),n.prev=1,n.next=4,fetch(e,t);case 4:return r=n.sent,n.next=7,r.json();case 7:c=n.sent,a(c),h(!1),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),l(n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(){return n.apply(this,arguments)}}()()}),[p]),{response:s,error:j,isLoading:u,setTrigger:f}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"/api/v1/".concat(e).concat(t?"/"+t:"","/")}var L=function(){return localStorage.getItem("issue_tracker_token")},D=n(184),W=n(1);function N(e){var t=e.message;return Object(W.jsx)(i.a,{my:4,children:Object(W.jsxs)(D.a,{status:"error",borderRadius:10,children:[Object(W.jsx)(D.c,{}),Object(W.jsx)(D.b,{children:t})]})})}function P(e){var t=e.list,n=e.setList,c=e.value,s=Object(d.a)(e,["list","setList","value"]),a=Object(r.useState)(t.includes(c)),o=Object(g.a)(a,2),j=o[0],b=o[1];Object(r.useEffect)((function(){if(j){var e=t;e.push(c),n(e)}if(!j){var r=t.filter((function(e){return e!==c}));n(r)}}),[j]);return Object(W.jsx)(i.a,Object(l.a)(Object(l.a)({onClick:function(e){e.preventDefault(),b(!j)},borderRadius:0,backgroundColor:j?"blue.500":"",textColor:j?"white":"",width:"full",height:"max-content"},s),{},{children:s.children}))}function q(){var e=Object(v.a)(),t=e.isOpen,n=e.onOpen,s=e.onClose,a=Object(r.useState)(!1),o=Object(g.a)(a,2),l=o[0],d=(o[1],c.a.useRef()),b=Object(j.g)(),u=Object(r.useState)(""),h=Object(g.a)(u,2),O=h[0],p=h[1];return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(x.a,{colorScheme:"green",onClick:n,children:"Nuevo Proyecto"}),Object(W.jsx)(S.a,{isOpen:t,placement:"right",initialFocusRef:d,onClose:s,children:Object(W.jsx)(C.g,{children:Object(W.jsxs)(S.b,{children:[Object(W.jsx)(C.c,{}),Object(W.jsx)(C.f,{borderBottomWidth:"1px",children:"Crear nuevo proyecto"}),Object(W.jsx)(C.b,{children:Object(W.jsx)(f.a,{spacing:"24px",children:Object(W.jsxs)(i.a,{children:[Object(W.jsx)(y.a,{htmlFor:"name",children:"Nombre del proyecto"}),Object(W.jsx)(T.a,{ref:d,id:"name",placeholder:"Introduce el nombre del proyecto",onChange:function(e){return p(e.currentTarget.value)}})]})})}),Object(W.jsxs)(C.e,{borderTopWidth:"1px",children:[Object(W.jsx)(x.a,{variant:"outline",mr:3,onClick:s,children:"Cancelar"}),Object(W.jsx)(x.a,{colorScheme:"teal",onClick:function(){fetch(R("projects"),{method:"POST",body:JSON.stringify({name:O,users:[b],status:!0}),headers:{Authorization:"Token "+L(),"Content-Type":"application/json"}}).then((function(e){201===e.status?s():console.log("error")}))},isLoading:l,children:"Crear"})]})]})})})]})}function B(e){var t=e.projectId,n=e.trigger,s=Object(d.a)(e,["projectId","trigger"]),a=Object(v.a)(),i=a.isOpen,o=a.onOpen,j=a.onClose,u=c.a.useRef(),p=Object(r.useState)(""),m=Object(g.a)(p,2),F=m[0],_=m[1],A=Object(r.useState)(""),D=Object(g.a)(A,2),q=D[0],B=D[1],G=Object(r.useState)(null),J=Object(g.a)(G,2),U=J[0],M=J[1],H=Object(r.useState)([]),K=Object(g.a)(H,2),X=K[0],Y=K[1],Q=Object(r.useState)(""),V=Object(g.a)(Q,2),Z=V[0],$=V[1],ee=Object(r.useState)(!1),te=Object(g.a)(ee,2),ne=te[0],re=te[1],ce=E(R("newissuedata","1"),{method:"GET",headers:{Authorization:"Token "+L()}}),se=ce.isLoading||!ce.response?[]:ce.response.data.labels,ae=ce.isLoading||!ce.response?[]:ce.response.data.users;function ie(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(j(),$(""),re(!1),Y([]),M(null),!0===e){n(!0);var t=Object(w.a)();t({title:"Issue creado.",status:"success",duration:6e3,isClosable:!0})}}return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(x.a,Object(l.a)(Object(l.a)({colorScheme:"green",onClick:o},s),{},{children:"Nuevo Issue"})),Object(W.jsx)(S.a,{isOpen:i,placement:"right",initialFocusRef:u,onClose:ie,children:Object(W.jsx)(C.g,{children:Object(W.jsxs)(S.b,{children:[Object(W.jsx)(C.c,{}),Object(W.jsx)(C.f,{borderBottomWidth:"1px",children:"Crear nuevo issue"}),Object(W.jsx)(C.b,{children:Object(W.jsxs)("form",{id:"issue-form",onSubmit:function(e){if(e.preventDefault(),re(!0),$(""),F.length>50)return $("The title characters must be less than 50."),0;fetch(R("issues"),{method:"POST",body:JSON.stringify({title:F,label_id:U||null,description:q,project:t,assignees:X}),headers:{Authorization:"Token "+L(),"Content-Type":"application/json"}}).then((function(e){201===e.status?ie(!0):$("Error al crear el issue. Trata de nuevo.")}))},children:[Z&&Object(W.jsx)(N,{message:Z}),Object(W.jsxs)(f.a,{spacing:"20px",children:[Object(W.jsxs)(z.a,{id:"title",isRequired:!0,children:[Object(W.jsx)(y.a,{children:"T\xedtulo del issue"}),Object(W.jsx)(T.a,{ref:u,onBlur:function(e){return _(e.target.value)},placeholder:"Introduce el t\xedtulo del issue"})]}),Object(W.jsxs)(z.a,{isRequired:!0,children:[Object(W.jsx)(y.a,{htmlFor:"desc",children:"Descripci\xf3n"}),Object(W.jsx)(k.a,{placeholder:"Escribe la descripci\xf3n del issue",onBlur:function(e){return B(e.target.value)},resize:"none",size:"sm",height:"20vh",id:"desc"})]}),Object(W.jsxs)(z.a,{children:[Object(W.jsx)(y.a,{children:"Etiqueta"}),Object(W.jsx)(I.a,{onChange:function(e){return M(e.target.value)},placeholder:"Selecciona una etiqueta",children:se.map((function(e){return Object(W.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(W.jsxs)(z.a,{children:[Object(W.jsx)(f.a,{isInline:!0,justifyContent:"space-between",children:Object(W.jsx)(y.a,{children:"Asignar usuarios"})}),Object(W.jsx)(f.c,{spacing:0,divider:Object(W.jsx)(f.b,{borderColor:"gray.200"}),children:ae.map((function(e){return Object(W.jsx)(P,{value:e.id,list:X,setList:Y,py:.5,px:5,children:Object(W.jsxs)(f.a,{isInline:!0,children:[Object(W.jsx)(h.a,{size:"xs",src:e.avatar_url}),Object(W.jsx)(b.a,{fontSize:"sm",children:e.username}),Object(W.jsxs)(O.a,{fontSize:"xs",children:[e.first_name," ",e.last_name]})]})},e.id)}))})]})]})]})}),Object(W.jsxs)(C.e,{borderTopWidth:"1px",children:[Object(W.jsx)(x.a,{variant:"outline",mr:3,onClick:ie,children:"Cancelar"}),Object(W.jsx)(x.a,{type:"submit",form:"issue-form",isLoading:ne,loadingText:"Fetching...",colorScheme:"blue",children:"Crear"})]})]})})})]})}function G(e){var t=new Date(e);return Intl.DateTimeFormat("es-MX",{month:"short",day:"2-digit"}).format(t)}var J=n(176),U=n(168),M={bug:"red",enhancement:"teal"};function H(e){var t=e.trigger,n=Object(d.a)(e,["trigger"]),c=Object(v.a)(),s=c.isOpen,a=c.onOpen,i=c.onClose,o=Object(r.useState)({}),j=Object(g.a)(o,2),l=j[0],u=j[1];return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(b.a,{fontSize:"sm",children:Object(W.jsx)(U.a,{onClick:function(){a(),fetch(n.issue.url,{method:"GET",headers:{Authorization:"Token "+L()}}).then((function(e){(e.json().then((function(e){u(e.data?e.data:{})})),404===e.status)&&(i(),Object(w.a)()({title:"El issue no existe.",status:"error",duration:6e3,isClosable:!0}),t(!0))}))},children:n.issue.title})}),Object(W.jsx)(S.a,{isOpen:s,placement:"right",onClose:i,children:Object(W.jsx)(C.g,{children:Object(W.jsxs)(S.b,{children:[Object(W.jsx)(C.c,{}),Object(W.jsxs)(C.f,{mt:5,children:[Object(W.jsx)(b.a,{size:"md",children:l.title?l.title:"Titulo del issue"}),Object(W.jsxs)(O.a,{fontSize:"xs",textColor:"gray.500",mt:1,children:["Abierto en ",l.project_name]})]}),Object(W.jsx)(C.b,{children:Object(W.jsxs)(f.a,{divider:Object(W.jsx)(f.b,{borderColor:"gray.300"}),children:[Object(W.jsxs)(f.a,{children:[Object(W.jsxs)(f.a,{isInline:!0,children:[Object(W.jsx)(h.a,{size:"sm",src:l.author?l.author.avatar_url:""}),Object(W.jsxs)(f.a,{children:[Object(W.jsx)(b.a,{size:"xs",children:l.author?l.author.username:"Autor del issue"}),Object(W.jsx)(O.a,{fontSize:"xs",children:l.created_at?G(l.created_at):""})]})]}),Object(W.jsx)(O.a,{fontSize:"xs",children:l.description})]}),Object(W.jsxs)(f.a,{children:[Object(W.jsx)(O.a,{fontSize:"xs",textColor:"gray.500",children:"Usuarios asignados"}),l.assignees?l.assignees.map((function(e){return Object(W.jsxs)(f.a,{isInline:!0,children:[Object(W.jsx)(h.a,{size:"xs",src:e.avatar_url}),Object(W.jsx)(O.a,{fontSize:"xs",children:e.username})]},e.id)})):""]}),Object(W.jsxs)(f.a,{children:[Object(W.jsx)(O.a,{fontSize:"xs",textColor:"gray.500",children:"Etiqueta"}),l.label?Object(W.jsx)(m.a,{colorScheme:M[l.label.name],size:"sm",children:l.label.name}):""]})]})})]})})})]})}var K=n(170),X=n(171),Y=n(172),Q=[{name:"Open",color:"green",icon:K.a},{name:"Closed",color:"red",icon:X.a},{name:"Merged",color:"purple",icon:Y.a}],V=n(119),Z=n(173),$=n(181);function ee(){return Object(W.jsx)(Z.a,{height:"100vh",children:Object(W.jsx)($.a,{isIndeterminate:!0,color:"blue.300"})})}function te(e){var t=e.projects,n=(Object(d.a)(e,["projects"]),E(t[Object(j.g)().project-1].url,{method:"GET",headers:{Authorization:"Token "+L()}}));if(n.isLoading||!n.response)return Object(W.jsx)(ee,{});if(n.response.errors)return Object(W.jsx)(b.a,{children:n.response.errors.error});var r=n.response.data;return Object(W.jsxs)(i.a,{width:"full",height:"full",children:[Object(W.jsxs)(f.a,{isInline:!0,p:3,justifyContent:"space-between",children:[Object(W.jsx)(b.a,{children:r?r.name:""}),Object(W.jsx)(B,{projectId:r?r.id:"",trigger:n.setTrigger})]}),Object(W.jsx)(i.a,{borderWidth:1,borderRadius:10,p:5,children:Object(W.jsx)(f.a,{divider:Object(W.jsx)(f.b,{borderColor:"gray.200"}),children:r?r.issues.map((function(e){return ne(e,n.setTrigger)})):""})})]})}var ne=function(e,t){var n=G(e.updated_at),r=Q[e.status-1];return Object(W.jsx)(u.a,{height:"auto",width:"full",children:Object(W.jsx)(f.a,{isInline:!0,children:Object(W.jsxs)(f.a,{children:[Object(W.jsxs)(f.a,{isInline:!0,children:[Object(W.jsx)(J.a,{hasArrow:!0,label:r.name,placement:"left",children:Object(W.jsx)(V.a,{as:r.icon,color:r.color})}),e.label?e.label.name:"",Object(W.jsxs)(f.a,{children:[Object(W.jsx)(H,{issue:e,trigger:t}),Object(W.jsx)(m.a,{colorScheme:e.label?M[e.label.name]:"",borderRadius:20,width:"max-content",children:e.label?e.label.name:""})]})]}),Object(W.jsxs)(O.a,{fontSize:"xs",textColor:"gray.500",children:["Ultima actualizaci\xf3n ",n]})]})})},e.id)};function re(){var e=Object(j.g)(),t=E(R("profile",e.username),{method:"GET",headers:{Authorization:"Token "+L()}});return t.isLoading||!t.response?Object(W.jsx)(ee,{}):t.response.errors?Object(W.jsx)(b.a,{children:t.response.errors.error}):Object(W.jsxs)(u.a,{h:"100%",direction:{base:"column",md:"row",lg:"row"},children:[Object(W.jsx)(ce,{py:5,px:10,maxW:{md:"382px"},minW:{md:"344px"},w:{base:"100%",md:"50%",lg:"35%"},height:"full",display:{base:"flex",md:"block",lg:"block"},userData:t.response.data,align:"center"}),Object(W.jsx)(se,{mt:"1%",width:"100%",height:"100vh",projects:t.response.data.projects,params:e})]})}var ce=function(e){var t=e.userData,n=Object(d.a)(e,["userData"]),r=t.first_name,c=t.last_name,s=t.username,a=t.avatar_url;return Object(W.jsxs)(i.a,Object(l.a)(Object(l.a)({},n),{},{children:[Object(W.jsx)(i.a,{my:5,children:Object(W.jsx)(h.a,{src:a,size:{base:"xs",md:"3xl"}})}),Object(W.jsxs)(i.a,{width:"full",ml:{base:10,md:0},children:[Object(W.jsxs)(b.a,{align:"left",size:"md",children:[r," ",c]}),Object(W.jsx)(O.a,{fontSize:{base:"md",lg:"xl"},fontWeight:"thin",color:"gray",align:"left",children:s}),Object(W.jsx)(x.a,{mt:4,width:{base:"max-content",md:"full",lg:"full"},variant:"outline",children:"Cambiar datos"})]})]}))},se=function(e){var t=e.projects,n=e.params,r=Object(d.a)(e,["projects","params"]);return Object(W.jsx)(i.a,Object(l.a)(Object(l.a)({},r),{},{children:Object(W.jsxs)(p.e,{colorScheme:"cyan",children:[Object(W.jsxs)(p.b,{children:[Object(W.jsx)(p.a,{id:"projects",children:"Proyectos"}),Object(W.jsx)(p.a,{id:"information",children:"Informaci\xf3n"})]}),Object(W.jsxs)(p.d,{children:[Object(W.jsx)(p.c,{children:n.project?Object(W.jsx)(te,{projects:t}):Object(W.jsx)(ae,{projects:t})}),Object(W.jsx)(p.c,{children:Object(W.jsx)("p",{children:"Esta es la pesta\xf1a de informaci\xf3n"})})]})]})}))};function ae(e){var t=e.projects;Object(d.a)(e,["projects"]);return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(f.a,{isInline:!0,p:3,children:Object(W.jsx)(q,{})}),Object(W.jsx)(i.a,{borderWidth:1,borderRadius:10,p:5,children:Object(W.jsx)(f.a,{divider:Object(W.jsx)(f.b,{borderColor:"gray.200"}),children:t.map((function(e,t){var n=G(e.updated_at);return Object(W.jsx)(u.a,{height:12,width:"full",mb:5,children:Object(W.jsxs)(f.a,{children:[Object(W.jsxs)(f.a,{isInline:!0,children:[Object(W.jsx)(b.a,{fontSize:"xl",children:Object(W.jsx)(o.b,{to:"".concat(t+1),children:e.name})}),Object(W.jsx)(m.a,{colorScheme:e.status?"green":"red",ml:1,children:e.status?"Abierto":"Cerrado"})]}),Object(W.jsxs)(O.a,{fontSize:"sm",children:["Ultima actualizaci\xf3n ",n]})]})},e.id)}))})})]})}var ie=n(179);var oe=function(){return Object(W.jsx)(u.a,{minHeight:"100vh",width:"full",align:"center",justifyContent:"center",children:Object(W.jsxs)(i.a,{borderWidth:1,px:4,width:"full",maxWidth:"450px",borderRadius:10,textAlign:"center",boxShadow:"lg",children:[Object(W.jsxs)(i.a,{my:8,children:[Object(W.jsx)(b.a,{children:"Sign In to Your Account"}),Object(W.jsxs)(O.a,{children:["Or ",Object(W.jsx)(U.a,{children:"register"})]})]}),Object(W.jsx)(i.a,{children:Object(W.jsx)(je,{})})]})})},je=function(){var e=Object(r.useState)(null),t=Object(g.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(null),a=Object(g.a)(s,2),o=a[0],j=a[1],l=Object(r.useState)(!1),d=Object(g.a)(l,2),b=d[0],u=(d[1],function(e){e.preventDefault(),console.log(R("login")),fetch(R("login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:o})}).then((function(e){return e.json()})).then((function(e){var t;console.log(e,e.data.token),t=e.data.token,localStorage.setItem("issue_tracker_token",t)})).catch((function(e){console.log(e)}))});return Object(W.jsx)(i.a,{my:4,textAlign:"left",children:Object(W.jsxs)("form",{children:[Object(W.jsxs)(z.a,{isRequired:!0,children:[Object(W.jsx)(y.a,{children:"Email Address"}),Object(W.jsx)(T.a,{type:"email",placeholder:"Enter your email address",onChange:function(e){return c(e.currentTarget.value)}})]}),Object(W.jsxs)(z.a,{isRequired:!0,children:[Object(W.jsx)(y.a,{children:"Password"}),Object(W.jsx)(T.a,{type:"password",placeholder:"Enter your password",onChange:function(e){return j(e.currentTarget.value)},onKeyUp:function(e){return 13===e.keyCode?u:0}})]}),Object(W.jsxs)(f.a,{isInline:!0,justifyContent:"space-between",mt:4,children:[Object(W.jsx)(i.a,{children:Object(W.jsx)(ie.a,{children:"Remember me"})}),Object(W.jsx)(i.a,{children:Object(W.jsx)(U.a,{children:"Forgot your password?"})})]}),Object(W.jsx)(x.a,{isLoading:b,loadingText:"Iniciando Sesi\xf3n",width:"full",mt:4,onClick:u,children:"Sign in"})]})})},le={login:{path:"/login/",component:function(){return Object(W.jsx)(oe,{})}},profile:{path:"/profile/:username/",component:re},profileTab:{path:"/profile/:username/:project/",component:re},notFound:{path:"/404/",component:function(){return Object(W.jsxs)("div",{children:[Object(W.jsx)("h1",{children:"404"}),Object(W.jsx)("h2",{children:"Not found"})]})}}};function de(){return Object(W.jsx)(i.a,{d:"flex",flexDirection:"column",minH:"100vh",children:Object(W.jsx)(o.a,{children:Object(W.jsx)(i.a,{h:"100%",d:"flex",flexGrow:1,flexDirection:"column",children:Object(W.jsxs)(j.d,{children:[Object(W.jsx)(j.b,{exact:!0,path:le.login.path,component:le.login.component}),Object(W.jsx)(j.b,{exact:!0,path:le.profileTab.path,component:le.profileTab.component}),Object(W.jsx)(j.b,{exact:!0,strict:!0,path:le.profile.path,component:le.profile.component}),Object(W.jsx)(j.b,{exact:!0,path:le.notFound.path,component:le.notFound.component}),Object(W.jsx)(j.a,{to:le.notFound.path})]})})})})}var be=function(){return Object(W.jsx)("div",{className:"App",children:Object(W.jsx)(de,{})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,188)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))},he=n(183);a.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(he.a,{children:Object(W.jsx)(be,{})})}),document.getElementById("root")),ue()}},[[142,1,2]]]);
//# sourceMappingURL=main.b4af25e1.chunk.js.map