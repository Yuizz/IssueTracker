(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{134:function(e,t,n){},135:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(26),a=n.n(s),i=(n(134),n(135),n(157)),o=n(58),j=n(9),l=n(22),d=n(27),b=n(167),u=n(178),h=n(190),O=n(168),x=n(119),p=n(182),m=n(189),f=n(170),g=n(4),v=n(158),S=n(188),C=n(39),y=n(163),T=n(164),w=n(181),z=n(54),k=n(165),I=n(166),F=n(87),_=n.n(F),A=n(112);function E(e,t,n){var r=Object(c.useState)(null),s=Object(g.a)(r,2),a=s[0],i=s[1],o=Object(c.useState)(null),j=Object(g.a)(o,2),l=j[0],d=j[1],b=Object(c.useState)(!1),u=Object(g.a)(b,2),h=u[0],O=u[1],x=Object(c.useState)(!1),p=Object(g.a)(x,2),m=p[0],f=p[1];return Object(c.useEffect)((function(){f(!1),function(){var n=Object(A.a)(_.a.mark((function n(){var c,r;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a||O(!0),n.prev=1,n.next=4,fetch(e,t);case 4:return c=n.sent,n.next=7,c.json();case 7:r=n.sent,i(r),O(!1),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),d(n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(){return n.apply(this,arguments)}}()(),console.log("fetched")}),[m]),{response:a,error:l,isLoading:h,setTrigger:f}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"http://localhost:8000/api/v1/".concat(e).concat(t?"/"+t:"")}var D=function(){return localStorage.getItem("issue_tracker_token")},L=n(187),N=n(1);function W(e){var t=e.message;return Object(N.jsx)(i.a,{my:4,children:Object(N.jsxs)(L.a,{status:"error",borderRadius:10,children:[Object(N.jsx)(L.c,{}),Object(N.jsx)(L.b,{children:t})]})})}function P(e){var t=e.list,n=e.setList,r=e.value,s=Object(d.a)(e,["list","setList","value"]),a=Object(c.useState)(t.includes(r)),o=Object(g.a)(a,2),j=o[0],b=o[1];Object(c.useEffect)((function(){if(j){var e=t;e.push(r),n(e)}if(!j){var c=t.filter((function(e){return e!==r}));n(c)}}),[j]);return Object(N.jsx)(i.a,Object(l.a)(Object(l.a)({onClick:function(e){e.preventDefault(),b(!j)},borderRadius:0,backgroundColor:j?"blue.500":"",textColor:j?"white":"",width:"full",height:"max-content"},s),{},{children:s.children}))}function q(){var e=Object(v.a)(),t=e.isOpen,n=e.onOpen,s=e.onClose,a=Object(c.useState)(!1),o=Object(g.a)(a,2),l=o[0],d=(o[1],r.a.useRef()),b=Object(j.g)(),u=Object(c.useState)(""),h=Object(g.a)(u,2),O=h[0],p=h[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.a,{colorScheme:"green",onClick:n,children:"Nuevo Proyecto"}),Object(N.jsx)(S.a,{isOpen:t,placement:"right",initialFocusRef:d,onClose:s,children:Object(N.jsx)(C.g,{children:Object(N.jsxs)(S.b,{children:[Object(N.jsx)(C.c,{}),Object(N.jsx)(C.f,{borderBottomWidth:"1px",children:"Crear nuevo proyecto"}),Object(N.jsx)(C.b,{children:Object(N.jsx)(m.a,{spacing:"24px",children:Object(N.jsxs)(i.a,{children:[Object(N.jsx)(y.a,{htmlFor:"name",children:"Nombre del proyecto"}),Object(N.jsx)(T.a,{ref:d,id:"name",placeholder:"Introduce el nombre del proyecto",onChange:function(e){return p(e.currentTarget.value)}})]})})}),Object(N.jsxs)(C.e,{borderTopWidth:"1px",children:[Object(N.jsx)(x.a,{variant:"outline",mr:3,onClick:s,children:"Cancelar"}),Object(N.jsx)(x.a,{colorScheme:"teal",onClick:function(){fetch(R("projects"),{method:"POST",body:JSON.stringify({name:O,users:[b],status:!0}),headers:{Authorization:"Token "+D(),"Content-Type":"application/json"}}).then((function(e){201===e.status?s():console.log("error")}))},isLoading:l,children:"Crear"})]})]})})})]})}function B(e){var t=e.projectId,n=e.trigger,s=Object(d.a)(e,["projectId","trigger"]),a=Object(v.a)(),i=a.isOpen,o=a.onOpen,j=a.onClose,u=r.a.useRef(),p=Object(c.useState)(""),f=Object(g.a)(p,2),F=f[0],_=f[1],A=Object(c.useState)(""),L=Object(g.a)(A,2),q=L[0],B=L[1],G=Object(c.useState)(null),J=Object(g.a)(G,2),U=J[0],M=J[1],H=Object(c.useState)([]),K=Object(g.a)(H,2),X=K[0],Y=K[1],Q=Object(c.useState)(""),V=Object(g.a)(Q,2),Z=V[0],$=V[1],ee=Object(c.useState)(!1),te=Object(g.a)(ee,2),ne=te[0],ce=te[1],re=E(R("newissuedata","1"),{method:"GET",headers:{Authorization:"Token "+D()}}),se=re.isLoading||!re.response?[]:re.response.data.labels,ae=re.isLoading||!re.response?[]:re.response.data.users;function ie(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(j(),$(""),ce(!1),Y([]),M(null),!0===e){n(!0);var t=Object(w.a)();t({title:"Issue creado.",status:"success",duration:6e3,isClosable:!0})}}return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.a,Object(l.a)(Object(l.a)({colorScheme:"green",onClick:o},s),{},{children:"Nuevo Issue"})),Object(N.jsx)(S.a,{isOpen:i,placement:"right",initialFocusRef:u,onClose:ie,children:Object(N.jsx)(C.g,{children:Object(N.jsxs)(S.b,{children:[Object(N.jsx)(C.c,{}),Object(N.jsx)(C.f,{borderBottomWidth:"1px",children:"Crear nuevo issue"}),Object(N.jsx)(C.b,{children:Object(N.jsxs)("form",{id:"issue-form",onSubmit:function(e){if(e.preventDefault(),ce(!0),$(""),F.length>50)return $("The title characters must be less than 50."),0;fetch(R("issues"),{method:"POST",body:JSON.stringify({title:F,label_id:U||null,description:q,project:t,assignees:X}),headers:{Authorization:"Token "+D(),"Content-Type":"application/json"}}).then((function(e){201===e.status?ie(!0):$("Error al crear el issue. Trata de nuevo.")}))},children:[Z&&Object(N.jsx)(W,{message:Z}),Object(N.jsxs)(m.a,{spacing:"20px",children:[Object(N.jsxs)(z.a,{id:"title",isRequired:!0,children:[Object(N.jsx)(y.a,{children:"T\xedtulo del issue"}),Object(N.jsx)(T.a,{ref:u,onBlur:function(e){return _(e.target.value)},placeholder:"Introduce el t\xedtulo del issue"})]}),Object(N.jsxs)(z.a,{isRequired:!0,children:[Object(N.jsx)(y.a,{htmlFor:"desc",children:"Descripci\xf3n"}),Object(N.jsx)(k.a,{placeholder:"Escribe la descripci\xf3n del issue",onBlur:function(e){return B(e.target.value)},resize:"none",size:"sm",height:"20vh",id:"desc"})]}),Object(N.jsxs)(z.a,{children:[Object(N.jsx)(y.a,{children:"Etiqueta"}),Object(N.jsx)(I.a,{onChange:function(e){return M(e.target.value)},placeholder:"Selecciona una etiqueta",children:se.map((function(e){return Object(N.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(N.jsxs)(z.a,{children:[Object(N.jsx)(m.a,{isInline:!0,justifyContent:"space-between",children:Object(N.jsx)(y.a,{children:"Asignar usuarios"})}),Object(N.jsx)(m.c,{spacing:0,divider:Object(N.jsx)(m.b,{borderColor:"gray.200"}),children:ae.map((function(e){return Object(N.jsx)(P,{value:e.id,list:X,setList:Y,py:.5,px:5,children:Object(N.jsxs)(m.a,{isInline:!0,children:[Object(N.jsx)(h.a,{size:"xs",src:e.avatar_url}),Object(N.jsx)(b.a,{fontSize:"sm",children:e.username}),Object(N.jsxs)(O.a,{fontSize:"xs",children:[e.first_name," ",e.last_name]})]})},e.id)}))})]})]})]})}),Object(N.jsxs)(C.e,{borderTopWidth:"1px",children:[Object(N.jsx)(x.a,{variant:"outline",mr:3,onClick:ie,children:"Cancelar"}),Object(N.jsx)(x.a,{type:"submit",form:"issue-form",isLoading:ne,loadingText:"Fetching...",colorScheme:"blue",children:"Crear"})]})]})})})]})}function G(e){var t=new Date(e);return Intl.DateTimeFormat("es-MX",{month:"short",day:"2-digit"}).format(t)}var J=n(175),U=n(180),M=n(169),H={bug:"red",enhancement:"teal"};function K(e){var t=e.trigger,n=Object(d.a)(e,["trigger"]),r=Object(v.a)(),s=r.isOpen,a=r.onOpen,i=r.onClose,o=Object(c.useState)({}),j=Object(g.a)(o,2),l=j[0],u=j[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(b.a,{fontSize:"sm",children:Object(N.jsx)(M.a,{onClick:function(){a(),fetch(n.issue.url,{method:"GET",headers:{Authorization:"Token "+D()}}).then((function(e){(e.json().then((function(e){u(e.data?e.data:{})})),404===e.status)&&(i(),Object(w.a)()({title:"El issue no existe.",status:"error",duration:6e3,isClosable:!0}),t(!0))}))},children:n.issue.title})}),Object(N.jsx)(S.a,{isOpen:s,placement:"right",onClose:i,children:Object(N.jsx)(C.g,{children:Object(N.jsxs)(S.b,{children:[Object(N.jsx)(C.c,{}),Object(N.jsxs)(C.f,{mt:5,children:[Object(N.jsx)(b.a,{size:"md",children:l.title?l.title:"Titulo del issue"}),Object(N.jsxs)(O.a,{fontSize:"xs",textColor:"gray.500",mt:1,children:["Abierto en ",l.project_name]})]}),Object(N.jsx)(C.b,{children:Object(N.jsxs)(m.a,{divider:Object(N.jsx)(m.b,{borderColor:"gray.300"}),children:[Object(N.jsxs)(m.a,{children:[Object(N.jsxs)(m.a,{isInline:!0,children:[Object(N.jsx)(h.a,{size:"sm",src:l.author?l.author.avatar_url:""}),Object(N.jsxs)(m.a,{children:[Object(N.jsx)(b.a,{size:"xs",children:l.author?l.author.username:"Autor del issue"}),Object(N.jsx)(O.a,{fontSize:"xs",children:l.created_at?G(l.created_at):""})]})]}),Object(N.jsx)(O.a,{fontSize:"xs",children:l.description})]}),Object(N.jsxs)(m.a,{children:[Object(N.jsx)(O.a,{fontSize:"xs",textColor:"gray.500",children:"Usuarios asignados"}),l.assignees?l.assignees.map((function(e){return Object(N.jsxs)(m.a,{isInline:!0,children:[Object(N.jsx)(h.a,{size:"xs",src:e.avatar_url}),Object(N.jsx)(O.a,{fontSize:"xs",children:e.username})]},e.id)})):""]}),Object(N.jsxs)(m.a,{children:[Object(N.jsx)(O.a,{fontSize:"xs",textColor:"gray.500",children:"Etiqueta"}),l.label?Object(N.jsx)(f.a,{colorScheme:H[l.label.name],size:"sm",children:l.label.name}):""]})]})})]})})})]})}var X=n(171),Y=n(172),Q=n(173),V=[{name:"Open",color:"green",icon:X.a},{name:"Closed",color:"red",icon:Y.a},{name:"Merged",color:"purple",icon:Q.a}],Z=n(176),$=n(177),ee=n(120),te=n(174),ne=n(184);function ce(){return Object(N.jsx)(te.a,{height:"100vh",children:Object(N.jsx)(ne.a,{isIndeterminate:!0,color:"blue.300"})})}function re(e){var t=e.projects,n=Object(d.a)(e,["projects"]),r=t[Object(j.g)().project-1],s=Object(c.useState)(R("issues/?page=".concat(1,"&project=",r.id))),a=Object(g.a)(s,2),o=a[0],u=a[1],h=E(o,{method:"GET",headers:{Authorization:"Token "+D()}});if(h.isLoading||!h.response)return Object(N.jsx)(ce,{});if(h.response.errors)return Object(N.jsx)(b.a,{children:h.response.errors.error});var O=h.response.results;return Object(N.jsxs)(i.a,Object(l.a)(Object(l.a)({width:"full",height:"full"},n),{},{children:[Object(N.jsxs)(m.a,{isInline:!0,p:3,justifyContent:"space-between",children:[Object(N.jsx)(b.a,{children:r?r.name:"NoName"}),Object(N.jsx)(B,{projectId:r?r.id:"",trigger:h.setTrigger})]}),Object(N.jsx)(i.a,{borderWidth:1,borderRadius:10,p:5,children:Object(N.jsx)(m.a,{divider:Object(N.jsx)(m.b,{borderColor:"gray.200"}),children:h.isLoading?Object(N.jsx)(ce,{}):O.map((function(e){return se(e,h.setTrigger)}))})}),Object(N.jsxs)(m.a,{isInline:!0,mt:"10px",children:[Object(N.jsx)(J.a,{"aria-label":"Previous page",isDisabled:!h.response.previous,colorScheme:"gray",onClick:function(){u(h.response.previous),h.setTrigger(!0)},icon:Object(N.jsx)(Z.a,{})}),Object(N.jsx)(J.a,{"aria-label":"Next page",isDisabled:!h.response.next,colorScheme:"gray",onClick:function(){u(h.response.next),h.setTrigger(!0)},icon:Object(N.jsx)($.a,{})})]})]}))}var se=function(e,t){var n=G(e.updated_at),c=V[e.status-1];return Object(N.jsx)(u.a,{height:"auto",width:"full",children:Object(N.jsx)(m.a,{isInline:!0,children:Object(N.jsxs)(m.a,{children:[Object(N.jsxs)(m.a,{isInline:!0,children:[Object(N.jsx)(U.a,{hasArrow:!0,label:c.name,placement:"left",children:Object(N.jsx)(ee.a,{as:c.icon,color:c.color})}),e.label?e.label.name:"",Object(N.jsxs)(m.a,{children:[Object(N.jsx)(K,{issue:e,trigger:t}),Object(N.jsx)(f.a,{colorScheme:e.label?H[e.label.name]:"",borderRadius:20,width:"max-content",children:e.label?e.label.name:""})]})]}),Object(N.jsxs)(O.a,{fontSize:"xs",textColor:"gray.500",children:["Ultima actualizaci\xf3n ",n]})]})})},e.id)};function ae(){var e=Object(j.g)(),t=E(R("profile",e.username),{method:"GET",headers:{Authorization:"Token "+D()}});return t.isLoading||!t.response?Object(N.jsx)(ce,{}):t.response.errors?Object(N.jsx)(b.a,{children:t.response.errors.error}):Object(N.jsxs)(u.a,{h:"100%",direction:{base:"column",md:"row",lg:"row"},children:[Object(N.jsx)(ie,{py:5,px:10,maxW:{md:"382px"},minW:{md:"344px"},w:{base:"100%",md:"50%",lg:"35%"},height:"full",display:{base:"flex",md:"block",lg:"block"},userData:t.response.data,align:"center"}),Object(N.jsx)(oe,{mt:"1%",width:"100%",height:"100vh",projects:t.response.data.projects,params:e})]})}var ie=function(e){var t=e.userData,n=Object(d.a)(e,["userData"]),c=t.first_name,r=t.last_name,s=t.username,a=t.avatar_url;return Object(N.jsxs)(i.a,Object(l.a)(Object(l.a)({},n),{},{children:[Object(N.jsx)(i.a,{my:5,children:Object(N.jsx)(h.a,{src:a,size:{base:"xs",md:"3xl"}})}),Object(N.jsxs)(i.a,{width:"full",ml:{base:10,md:0},children:[Object(N.jsxs)(b.a,{align:"left",size:"md",children:[c," ",r]}),Object(N.jsx)(O.a,{fontSize:{base:"md",lg:"xl"},fontWeight:"thin",color:"gray",align:"left",children:s}),Object(N.jsx)(x.a,{mt:4,width:{base:"max-content",md:"full",lg:"full"},variant:"outline",children:"Cambiar datos"})]})]}))},oe=function(e){var t=e.projects,n=e.params,c=Object(d.a)(e,["projects","params"]);return Object(N.jsx)(i.a,Object(l.a)(Object(l.a)({},c),{},{children:Object(N.jsxs)(p.e,{colorScheme:"cyan",children:[Object(N.jsxs)(p.b,{children:[Object(N.jsx)(p.a,{id:"projects",children:"Proyectos"}),Object(N.jsx)(p.a,{id:"information",children:"Informaci\xf3n"})]}),Object(N.jsxs)(p.d,{children:[Object(N.jsx)(p.c,{children:n.project?Object(N.jsx)(re,{projects:t}):Object(N.jsx)(je,{projects:t})}),Object(N.jsx)(p.c,{children:Object(N.jsx)("p",{children:"Esta es la pesta\xf1a de informaci\xf3n"})})]})]})}))};function je(e){var t=e.projects;Object(d.a)(e,["projects"]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(m.a,{isInline:!0,p:3,children:Object(N.jsx)(q,{})}),Object(N.jsx)(i.a,{borderWidth:1,borderRadius:10,p:5,children:Object(N.jsx)(m.a,{divider:Object(N.jsx)(m.b,{borderColor:"gray.200"}),children:t.map((function(e,t){var n=G(e.updated_at);return Object(N.jsx)(u.a,{height:12,width:"full",mb:5,children:Object(N.jsxs)(m.a,{children:[Object(N.jsxs)(m.a,{isInline:!0,children:[Object(N.jsx)(b.a,{fontSize:"xl",children:Object(N.jsx)(o.b,{to:"".concat(t+1),children:e.name})}),Object(N.jsx)(f.a,{colorScheme:e.status?"green":"red",ml:1,children:e.status?"Abierto":"Cerrado"})]}),Object(N.jsxs)(O.a,{fontSize:"sm",children:["Ultima actualizaci\xf3n ",n]})]})},e.id)}))})})]})}var le=n(183);var de=function(){return Object(N.jsx)(u.a,{minHeight:"100vh",width:"full",align:"center",justifyContent:"center",children:Object(N.jsxs)(i.a,{borderWidth:1,px:4,width:"full",maxWidth:"450px",borderRadius:10,textAlign:"center",boxShadow:"lg",children:[Object(N.jsxs)(i.a,{my:8,children:[Object(N.jsx)(b.a,{children:"Sign In to Your Account"}),Object(N.jsxs)(O.a,{children:["Or ",Object(N.jsx)(M.a,{children:"register"})]})]}),Object(N.jsx)(i.a,{children:Object(N.jsx)(be,{})})]})})},be=function(){var e=Object(c.useState)(null),t=Object(g.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(null),a=Object(g.a)(s,2),o=a[0],j=a[1],l=Object(c.useState)(!1),d=Object(g.a)(l,2),b=d[0],u=(d[1],function(e){e.preventDefault(),fetch(R("login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:o})}).then((function(e){return e.json()})).then((function(e){var t;t=e.token,localStorage.setItem("issue_tracker_token",t)}))});return Object(N.jsx)(i.a,{my:4,textAlign:"left",children:Object(N.jsxs)("form",{children:[Object(N.jsxs)(z.a,{isRequired:!0,children:[Object(N.jsx)(y.a,{children:"Email Address"}),Object(N.jsx)(T.a,{type:"email",placeholder:"Enter your email address",onChange:function(e){return r(e.currentTarget.value)}})]}),Object(N.jsxs)(z.a,{isRequired:!0,children:[Object(N.jsx)(y.a,{children:"Password"}),Object(N.jsx)(T.a,{type:"password",placeholder:"Enter your password",onChange:function(e){return j(e.currentTarget.value)},onKeyUp:function(e){return 13===e.keyCode?u:0}})]}),Object(N.jsxs)(m.a,{isInline:!0,justifyContent:"space-between",mt:4,children:[Object(N.jsx)(i.a,{children:Object(N.jsx)(le.a,{children:"Remember me"})}),Object(N.jsx)(i.a,{children:Object(N.jsx)(M.a,{children:"Forgot your password?"})})]}),Object(N.jsx)(x.a,{isLoading:b,loadingText:"Iniciando Sesi\xf3n",width:"full",mt:4,onClick:u,children:"Sign in"})]})})},ue={login:{path:"/login/",component:function(){return Object(N.jsx)(de,{})}},profile:{path:"/profile/:username/",component:ae},profileTab:{path:"/profile/:username/:project/",component:ae},notFound:{path:"/404/",component:function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"404"}),Object(N.jsx)("h2",{children:"Not found"})]})}}};function he(){return Object(N.jsx)(i.a,{d:"flex",flexDirection:"column",minH:"100vh",children:Object(N.jsx)(o.a,{children:Object(N.jsx)(i.a,{h:"100%",d:"flex",flexGrow:1,flexDirection:"column",children:Object(N.jsxs)(j.d,{children:[Object(N.jsx)(j.b,{exact:!0,path:ue.login.path,component:ue.login.component}),Object(N.jsx)(j.b,{exact:!0,path:ue.profileTab.path,component:ue.profileTab.component}),Object(N.jsx)(j.b,{exact:!0,strict:!0,path:ue.profile.path,component:ue.profile.component}),Object(N.jsx)(j.b,{exact:!0,path:ue.notFound.path,component:ue.notFound.component}),Object(N.jsx)(j.a,{to:ue.notFound.path})]})})})})}var Oe=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(he,{})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))},pe=n(186);a.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(pe.a,{children:Object(N.jsx)(Oe,{})})}),document.getElementById("root")),xe()}},[[143,1,2]]]);
//# sourceMappingURL=main.e88daf50.chunk.js.map